# 分布式架构整体介绍-中


主要介绍分布式架构的高扩展和高性能

<!--more-->
# 高扩展架构设计

## 无状态设计

- 有状态部署


# 高性能架构设计

- CDN访问加速
- 业务逻辑性能优化
- 存储性能优化


## CDN性能加速

Content Delivery Network 内容分发网络，依靠部署在各地的边缘服务器，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率

### 访问步骤

- 访问DNS获取CDN地址
- 访问就近CDN节点
- 判断是否需要回源
- 返回数据

## 业务逻辑性能优化

- RPC异步调用
几个调用同时调用，以最大的时间为准
- 消息队列
减少没有必要的串行处理
- 参数调优
- 增加服务节点
 增加处理速度

## 存储性能优化

- 使用缓存
redis缓存

先删redis再更新DB

先更新DB再删redis

redis删除失败后

- 索引优化（索引原理）
聚簇索引，二级索引，联合索引

mysql索引为什么要用B+树?

mysql字符串索引的时候会将字符串长度作为索引key吗？

什么时候会走二级索引？



- 分库分表

垂直拆分

水平拆分

冷热数据

# 服务治理

- 服务分组
- 过载保护
- 熔断降级
- 权重支持

## 服务分组

## 


P99含义回顾